<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Thu Jun 23 13:38:07 CEST 2011 -->
<TITLE>
RTreeJoin
</TITLE>

<META NAME="date" CONTENT="2011-06-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RTreeJoin";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/RTreeJoin.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../xxl/core/spatial/cursors/Replicator.Split.html" title="class in xxl.core.spatial.cursors"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../xxl/core/spatial/cursors/UniverseDouble.html" title="class in xxl.core.spatial.cursors"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?xxl/core/spatial/cursors/RTreeJoin.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RTreeJoin.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
xxl.core.spatial.cursors</FONT>
<BR>
Class RTreeJoin</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">xxl.core.cursors.AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>xxl.core.spatial.cursors.RTreeJoin</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.util.Iterator&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;, <A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>RTreeJoin</B><DT>extends <A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;</DL>
</PRE>

<P>
This is one implementation of the R-Tree-Join-Algorithms proposed in [BKS 93]
        (see "[BKS 93] Efficient Processing of Spatial Joins by Thomas Brinkhoff,
  Hans-Peter Kriegel and Bernhard Seeger, ACM SIGMOD 1993." for a
        detailed description of this method).
        <br> 
  It differs only slightly from the the third proposed Algorithm (SJ3) in this paper:
  SJ3 is defined in a recursive manner, which wasn't suitable for a lazy-implementation
  of the operator. A stack is used to emulate the recursive structure of the algorithm 
  instead.
  <br><br> 
  The main idea of the algorithm is to traverse both R-Trees top-down simultaneously.
  For each pair of nodes the next pair to visit is computed by performing a main-memory 
  plane-sweep join on the descriptors of the nodes' indexentries. The nodes of the entries 
  which do not overlap don't have to be visited. At each level the pairs of nodes to visit 
  next are put on a stack, before the top-element of that stack is visited. This emulates
  a depth-first traversal of the tree. The use of one LRU-Buffer for each tree reduces 
  the I/O-Rate on secondary memory: Nodes already visited are very likely to be visited 
  again, so the buffer should keep them in memory as long as possible.
  <br>
  The results of the sweeping-based join on the leaf-entries (<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial"><CODE>KPE</CODE></A>-objects)
  are reported as results of this operator.
  <br>
  In case both trees are of different height the algorithm performs for each leaf-entry 
  of the flat tree a window query on the remaining nodes of the other one.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Stack&lt;java.lang.Object[]&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#candidates">candidates</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This Stack is needed to emulate the original recursive implementation of the join.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures">ORTree.IndexEntry</A>,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#getEntryRectangle">getEntryRectangle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A function to return the descriptor of a given <A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures"><CODE>ORTree.IndexEntry</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#getLeafRectangle">getLeafRectangle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A function to return the descriptor of <A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial"><CODE>KPE</CODE></A>-objects, the data-objects
  in the R-Tree's leafs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#nextObject">nextObject</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Iterator&lt;java.lang.Object[]&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#results">results</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to collect the join-results from the different stages of processing</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#rTree">rTree</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The R-Trees to be joined</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#sTree">sTree</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The R-Trees to be joined</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#swapResults">swapResults</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the heights of the input-trees don't equal the inputs might be swapped so that the
  first is the higher one.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_xxl.core.cursors.AbstractCursor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class xxl.core.cursors.<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#assignedNext">assignedNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#computedHasNext">computedHasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNext">hasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isClosed">isClosed</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isOpened">isOpened</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isValid">isValid</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#next">next</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#RTreeJoin(xxl.core.indexStructures.RTree, xxl.core.indexStructures.RTree)">RTreeJoin</A></B>(<A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A>&nbsp;r,
          <A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A>&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The only  Constructor of the R-Tree-Join, which requires as input the two 
  <A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures"><CODE>RTree</CODE></A>-objects to be joined.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#hasNextObject()">hasNextObject</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the iteration has more elements.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected 
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;I&gt; void</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#internalLoop(java.lang.Object, int, java.util.List, java.util.List, xxl.core.functions.Function, boolean)">internalLoop</A></B>(java.lang.Object&nbsp;queryObject,
             int&nbsp;unmarked,
             java.util.List&nbsp;seq,
             java.util.List&nbsp;output,
             <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;I,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt;&nbsp;getRectangle,
             boolean&nbsp;swap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perfoms the scan-line-search for overlapping Elements: all elements of the input-sequence
  which intersect the query-object on the x-axis are checked for intersection on the y-axis.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected 
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;I&gt; java.util.LinkedList&lt;java.lang.Object[]&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#internalPlaneSweep(xxl.core.spatial.rectangles.Rectangle, xxl.core.indexStructures.ORTree.Node, xxl.core.indexStructures.ORTree.Node, xxl.core.functions.Function)">internalPlaneSweep</A></B>(<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&nbsp;rect,
                   <A HREF="../../../../xxl/core/indexStructures/ORTree.Node.html" title="class in xxl.core.indexStructures">ORTree.Node</A>&nbsp;n0,
                   <A HREF="../../../../xxl/core/indexStructures/ORTree.Node.html" title="class in xxl.core.indexStructures">ORTree.Node</A>&nbsp;n1,
                   <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;I,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt;&nbsp;getRectangle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The internal Plane-Sweep method as proposed in [BKS 93].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#nextObject()">nextObject</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the next element in the iteration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#remove()">remove</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is not supported</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Iterator&lt;java.lang.Object[]&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../xxl/core/spatial/cursors/RTreeJoin.html#windowQuery(xxl.core.indexStructures.ORTree.IndexEntry, xxl.core.indexStructures.ORTree.IndexEntry)">windowQuery</A></B>(<A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures">ORTree.IndexEntry</A>&nbsp;subTreeRoot,
            <A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures">ORTree.IndexEntry</A>&nbsp;queryObject)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Trees of different heights are traversed in parallel until the leaf-level of one tree is reached.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_xxl.core.cursors.AbstractCursor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class xxl.core.cursors.<A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#close()">close</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNext()">hasNext</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#isClosed()">isClosed</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#next()">next</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#open()">open</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#peek()">peek</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#reset()">reset</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsPeek()">supportsPeek</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsRemove()">supportsRemove</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsReset()">supportsReset</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#supportsUpdate()">supportsUpdate</A>, <A HREF="../../../../xxl/core/cursors/AbstractCursor.html#update(E)">update</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="rTree"><!-- --></A><H3>
rTree</H3>
<PRE>
protected <A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A> <B>rTree</B></PRE>
<DL>
<DD>The R-Trees to be joined
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sTree"><!-- --></A><H3>
sTree</H3>
<PRE>
protected <A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A> <B>sTree</B></PRE>
<DL>
<DD>The R-Trees to be joined
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="candidates"><!-- --></A><H3>
candidates</H3>
<PRE>
protected java.util.Stack&lt;java.lang.Object[]&gt; <B>candidates</B></PRE>
<DL>
<DD>This Stack is needed to emulate the original recursive implementation of the join.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="results"><!-- --></A><H3>
results</H3>
<PRE>
protected java.util.Iterator&lt;java.lang.Object[]&gt; <B>results</B></PRE>
<DL>
<DD>Used to collect the join-results from the different stages of processing
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="nextObject"><!-- --></A><H3>
nextObject</H3>
<PRE>
protected <A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[] <B>nextObject</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="swapResults"><!-- --></A><H3>
swapResults</H3>
<PRE>
protected boolean <B>swapResults</B></PRE>
<DL>
<DD>If the heights of the input-trees don't equal the inputs might be swapped so that the
  first is the higher one. Therefore the inputs might have to be swapped as well as indicated
  by this variable.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="getEntryRectangle"><!-- --></A><H3>
getEntryRectangle</H3>
<PRE>
protected <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures">ORTree.IndexEntry</A>,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt; <B>getEntryRectangle</B></PRE>
<DL>
<DD>A function to return the descriptor of a given <A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures"><CODE>ORTree.IndexEntry</CODE></A>.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="getLeafRectangle"><!-- --></A><H3>
getLeafRectangle</H3>
<PRE>
protected <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt; <B>getLeafRectangle</B></PRE>
<DL>
<DD>A function to return the descriptor of <A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial"><CODE>KPE</CODE></A>-objects, the data-objects
  in the R-Tree's leafs.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="RTreeJoin(xxl.core.indexStructures.RTree, xxl.core.indexStructures.RTree)"><!-- --></A><H3>
RTreeJoin</H3>
<PRE>
public <B>RTreeJoin</B>(<A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A>&nbsp;r,
                 <A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures">RTree</A>&nbsp;s)</PRE>
<DL>
<DD>The only  Constructor of the R-Tree-Join, which requires as input the two 
  <A HREF="../../../../xxl/core/indexStructures/RTree.html" title="class in xxl.core.indexStructures"><CODE>RTree</CODE></A>-objects to be joined.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>r</CODE> - the first R-Tree to be processed in the join<DD><CODE>s</CODE> - the second one</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="internalPlaneSweep(xxl.core.spatial.rectangles.Rectangle, xxl.core.indexStructures.ORTree.Node, xxl.core.indexStructures.ORTree.Node, xxl.core.functions.Function)"><!-- --></A><H3>
internalPlaneSweep</H3>
<PRE>
protected &lt;I&gt; java.util.LinkedList&lt;java.lang.Object[]&gt; <B>internalPlaneSweep</B>(<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&nbsp;rect,
                                                                          <A HREF="../../../../xxl/core/indexStructures/ORTree.Node.html" title="class in xxl.core.indexStructures">ORTree.Node</A>&nbsp;n0,
                                                                          <A HREF="../../../../xxl/core/indexStructures/ORTree.Node.html" title="class in xxl.core.indexStructures">ORTree.Node</A>&nbsp;n1,
                                                                          <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;I,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt;&nbsp;getRectangle)</PRE>
<DL>
<DD>The internal Plane-Sweep method as proposed in [BKS 93]. The method returns the pairs
  of index-entries/leaf-entries whose descriptors overlap. The join is processed in main memory
  by sorting the descriptors according to one dimension and determining overlapping pairs with
  a scan-line-algorithm. The join-complexity is further reduced by regarding only those 
  index-entries/leaf-entries whose descriptors also overlap the given query-rectangle, 
  which is assumed to be the intersection of the nodes' descriptors.
<P>
<DD><DL>
<DT><B>Type Parameters:</B><DD><CODE>I</CODE> - indicates the type of entries (leaf- or index-entries) to join.<DT><B>Parameters:</B><DD><CODE>rect</CODE> - the intersection of the nodes' descriptors which prunes the number of entries regarded in the join<DD><CODE>n0</CODE> - the first node whose entries are to be joined<DD><CODE>n1</CODE> - the second node whose entries are to be joined<DD><CODE>getRectangle</CODE> - a function to return the descriptor of the given entry
<DT><B>Returns:</B><DD>the pairs of entries, whose descriptors overlap</DL>
</DD>
</DL>
<HR>

<A NAME="internalLoop(java.lang.Object, int, java.util.List, java.util.List, xxl.core.functions.Function, boolean)"><!-- --></A><H3>
internalLoop</H3>
<PRE>
protected &lt;I&gt; void <B>internalLoop</B>(java.lang.Object&nbsp;queryObject,
                                int&nbsp;unmarked,
                                java.util.List&nbsp;seq,
                                java.util.List&nbsp;output,
                                <A HREF="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&lt;I,<A HREF="../../../../xxl/core/spatial/rectangles/Rectangle.html" title="interface in xxl.core.spatial.rectangles">Rectangle</A>&gt;&nbsp;getRectangle,
                                boolean&nbsp;swap)</PRE>
<DL>
<DD>Perfoms the scan-line-search for overlapping Elements: all elements of the input-sequence
  which intersect the query-object on the x-axis are checked for intersection on the y-axis.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>queryObject</CODE> - the current query object<DD><CODE>unmarked</CODE> - the first element of the sequence, which intersects the query-object on the first dimension<DD><CODE>seq</CODE> - the sequence of elements which are checked for intersection with the query-object<DD><CODE>output</CODE> - a list of intersecting elemet-tuples<DD><CODE>getRectangle</CODE> - a function to return the descriptor of the sequence's elements<DD><CODE>swap</CODE> - determines whether to swap the elements of the result-tuples.</DL>
</DD>
</DL>
<HR>

<A NAME="windowQuery(xxl.core.indexStructures.ORTree.IndexEntry, xxl.core.indexStructures.ORTree.IndexEntry)"><!-- --></A><H3>
windowQuery</H3>
<PRE>
protected java.util.Iterator&lt;java.lang.Object[]&gt; <B>windowQuery</B>(<A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures">ORTree.IndexEntry</A>&nbsp;subTreeRoot,
                                                             <A HREF="../../../../xxl/core/indexStructures/ORTree.IndexEntry.html" title="class in xxl.core.indexStructures">ORTree.IndexEntry</A>&nbsp;queryObject)</PRE>
<DL>
<DD>Trees of different heights are traversed in parallel until the leaf-level of one tree is reached.
  In this method the remaining nodes of the higher tree are queried with the leaf-entries of the 
  other ones. The queries are not run one after the other, which would cause the remaining tree-nodes
  to be loaded and released over and over again, but in parallel, that means the algorithm keeps the 
  leaf node in memory and continously loads the remaining nodes of the other tree, computes intersection 
  entries which are enqueued in a queue until the leaf-level of the other tree is reached, so the algorithm
  performs a breadth-first-traversal of the remaining nodes.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>subTreeRoot</CODE> - the IndexEntry of the higher tree whose remaining nodes are to be queried<DD><CODE>queryObject</CODE> - the IndexEntry whose connected Node is a leaf
<DT><B>Returns:</B><DD>the leaf-entry-tuples whose descriptors overlap</DL>
</DD>
</DL>
<HR>

<A NAME="hasNextObject()"><!-- --></A><H3>
hasNextObject</H3>
<PRE>
protected boolean <B>hasNextObject</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNextObject()">AbstractCursor</A></CODE></B></DD>
<DD>Returns <code>true</code> if the iteration has more elements. (In other
 words, returns <code>true</code> if <code>next</code> or
 <code>peek</code> would return an element rather than throwing an
 exception.)
 
 <p>This abstract operation should implement the core functionality of
 the <code>hasNext</code> method which secures that the cursor is in a
 proper state when this method is called. Due to this the
 <code>hasNextObject</code> method need not to deal with exception
 handling.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#hasNextObject()">hasNextObject</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the cursor has more elements.</DL>
</DD>
</DL>
<HR>

<A NAME="nextObject()"><!-- --></A><H3>
nextObject</H3>
<PRE>
protected <A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[] <B>nextObject</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#nextObject()">AbstractCursor</A></CODE></B></DD>
<DD>Returns the next element in the iteration. This element will be
 accessible by some of the cursor's methods, e.g., <code>update</code> or
 <code>remove</code>, until a call to <code>next</code> or
 <code>peek</code> occurs. This is calling <code>next</code> or
 <code>peek</code> proceeds the iteration and therefore its previous
 element will not be accessible any more.
 
 <p>This abstract operation should implement the core functionality of
 the <code>next</code> method which secures that the cursor is in a
 proper state when this method is called. Due to this the
 <code>nextObject</code> method need not to deal with exception
 handling.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#nextObject()">nextObject</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the next element in the iteration.</DL>
</DD>
</DL>
<HR>

<A NAME="remove()"><!-- --></A><H3>
remove</H3>
<PRE>
public void <B>remove</B>()</PRE>
<DL>
<DD>This method is not supported
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>remove</CODE> in interface <CODE>java.util.Iterator&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;</CODE><DT><B>Specified by:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/Cursor.html#remove()">remove</A></CODE> in interface <CODE><A HREF="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html#remove()">remove</A></CODE> in class <CODE><A HREF="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</A>&lt;<A HREF="../../../../xxl/core/spatial/KPE.html" title="class in xxl.core.spatial">KPE</A>[]&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/RTreeJoin.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../xxl/core/spatial/cursors/Replicator.Split.html" title="class in xxl.core.spatial.cursors"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../xxl/core/spatial/cursors/UniverseDouble.html" title="class in xxl.core.spatial.cursors"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?xxl/core/spatial/cursors/RTreeJoin.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RTreeJoin.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
