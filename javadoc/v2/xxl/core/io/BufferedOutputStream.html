<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Tue Jun 28 13:37:06 CEST 2011 -->
<TITLE>
BufferedOutputStream
</TITLE>

<META NAME="date" CONTENT="2011-06-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BufferedOutputStream";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BufferedOutputStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../xxl/core/io/BufferedRandomAccessFile.html" title="class in xxl.core.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?xxl/core/io/BufferedOutputStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BufferedOutputStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
xxl.core.io</FONT>
<BR>
Class BufferedOutputStream</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by ">java.io.OutputStream
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>xxl.core.io.BufferedOutputStream</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.io.Closeable, java.io.Flushable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>BufferedOutputStream</B><DT>extends java.io.OutputStream</DL>
</PRE>

<P>
This class wraps an output stream by writing whole blocks of buffered
 output bytes to the wrapped output stream. The buffered output stream
 acts like an usual output stream:<br>
 it accepts output bytes and sends them to some sink. But the buffered
 output stream stores bytes written to it in buffered blocks. When
 flushing the written bytes to the sink, whole blocks of bytes are
 written to the wrapped output stream.<p>

 Example usage (1).
 <pre>
     // catch IOExceptions

     try {

         // create a new byte array output stream

         ByteArrayOutputStream output = new ByteArrayOutputStream();

         // create a new LRU buffer with 5 slots

         LRUBuffer buffer = new LRUBuffer(5);

         // create a new block factory method

         Function newBlock = new AbstractFunction() {
             public Object invoke() {
                 return new Block(new byte [20]);
             }
         };

         // buffer the output stream

         BufferedOutputStream buffered = new BufferedOutputStream(output, buffer, newBlock);

         // create a new data output stream

         DataOutputStream dataOutput = new DataOutputStream(buffered);

         // write data to the data output stream

         dataOutput.writeUTF("Some data!");
         dataOutput.writeUTF("More data!");
         dataOutput.writeUTF("Another bundle of data!");
         dataOutput.writeUTF("The last bundle of data!");

         // flush the buffered output stream

         buffered.flush();

         // create a byte array input stream on the output stream

         ByteArrayInputStream input = new ByteArrayInputStream(output.toByteArray());

         // create a new data input stream

         DataInputStream dataInput = new DataInputStream(input);

         // print the data of the data input stream

         while (dataInput.available() > 0)
             System.out.println(dataInput.readUTF());

         // close the open streams

         dataOutput.close();
         dataInput.close();
     }
     catch (IOException ioe) {
         System.out.println("An I/O error occured.");
     }
 </pre>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><CODE>Collections</CODE>, 
<A HREF="../../../xxl/core/comparators/FeatureComparator.html" title="class in xxl.core.comparators"><CODE>FeatureComparator</CODE></A>, 
<A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions"><CODE>Function</CODE></A>, 
<CODE>IOException</CODE>, 
<CODE>Iterator</CODE>, 
<CODE>LinkedList</CODE>, 
<CODE>Map.Entry</CODE>, 
<A HREF="../../../xxl/core/collections/MapEntry.html" title="class in xxl.core.collections"><CODE>MapEntry</CODE></A>, 
<CODE>OutputStream</CODE>, 
<A HREF="../../../xxl/core/util/WrappingRuntimeException.html" title="class in xxl.core.util"><CODE>WrappingRuntimeException</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../xxl/core/io/Block.html" title="class in xxl.core.io">Block</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#block">block</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The block that is actually used for storing the bytes that are
 written to the output stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#blockFactory">blockFactory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A block factory that is invoked, when a new empty block is needed
 for storing the written bytes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../xxl/core/io/Buffer.html" title="class in xxl.core.io">Buffer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#buffer">buffer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The buffer that is used for buffering the blocks storing the
 written bytes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#bufferedBytes">bufferedBytes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of bytes that are buffered by this output stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Integer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#counter">counter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An <tt>Integer</tt> object that stores the number of full blocks
 contained by the buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#offset">offset</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The offset in the block that is actually used for storing the bytes
 written to the output stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.io.OutputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#outputStream">outputStream</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The output stream that is buffered by storing the bytes written to
 it in buffered blocks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.LinkedList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#updateList">updateList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A list for storing the buffered blocks when they are flushed.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#BufferedOutputStream(java.io.OutputStream, xxl.core.io.Buffer, xxl.core.functions.Function)">BufferedOutputStream</A></B>(java.io.OutputStream&nbsp;outputStream,
                     <A HREF="../../../xxl/core/io/Buffer.html" title="class in xxl.core.io">Buffer</A>&nbsp;buffer,
                     <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&nbsp;blockFactory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new buffered output stream that wraps the given output
 stream by storing the bytes written to it in buffered blocks.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes this buffered output stream and releases any system
 resources associated with this stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#flush()">flush</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flushes this buffered output stream and forces any buffered output
 bytes to be written out.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../xxl/core/io/BufferedOutputStream.html#write(int)">write</A></B>(int&nbsp;b)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the specified byte to this output stream.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.io.OutputStream"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.io.OutputStream</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>write, write</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="outputStream"><!-- --></A><H3>
outputStream</H3>
<PRE>
protected java.io.OutputStream <B>outputStream</B></PRE>
<DL>
<DD>The output stream that is buffered by storing the bytes written to
 it in buffered blocks.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="buffer"><!-- --></A><H3>
buffer</H3>
<PRE>
protected <A HREF="../../../xxl/core/io/Buffer.html" title="class in xxl.core.io">Buffer</A> <B>buffer</B></PRE>
<DL>
<DD>The buffer that is used for buffering the blocks storing the
 written bytes.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="blockFactory"><!-- --></A><H3>
blockFactory</H3>
<PRE>
protected <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A> <B>blockFactory</B></PRE>
<DL>
<DD>A block factory that is invoked, when a new empty block is needed
 for storing the written bytes.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="block"><!-- --></A><H3>
block</H3>
<PRE>
protected <A HREF="../../../xxl/core/io/Block.html" title="class in xxl.core.io">Block</A> <B>block</B></PRE>
<DL>
<DD>The block that is actually used for storing the bytes that are
 written to the output stream. When it is null, the buffer is empty
 or the actual block is exhausted and a new block must be created by
 invoking the block factory.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="offset"><!-- --></A><H3>
offset</H3>
<PRE>
protected int <B>offset</B></PRE>
<DL>
<DD>The offset in the block that is actually used for storing the bytes
 written to the output stream. In other words, the number of bytes
 that are already written to the actual block. It determines the
 position of the next byte that is written to thie actual block.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="bufferedBytes"><!-- --></A><H3>
bufferedBytes</H3>
<PRE>
protected int <B>bufferedBytes</B></PRE>
<DL>
<DD>The number of bytes that are buffered by this output stream. In
 other words, the number of bytes that are written to the buffered
 blocks since the last flush.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="counter"><!-- --></A><H3>
counter</H3>
<PRE>
protected java.lang.Integer <B>counter</B></PRE>
<DL>
<DD>An <tt>Integer</tt> object that stores the number of full blocks
 contained by the buffer. After creating a new emtpy block by
 invoking the block factory, the counter is used as id when
 inserting the block into the buffer.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="updateList"><!-- --></A><H3>
updateList</H3>
<PRE>
protected java.util.LinkedList <B>updateList</B></PRE>
<DL>
<DD>A list for storing the buffered blocks when they are flushed. The
 data of the blocks cannot be written to the output stream in the
 order they are flushed, because the displacemant strategy can
 change the order they are written. Therefore the flushed blocks
 must be sorted according to their ids.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../xxl/core/io/BufferedOutputStream.html#counter"><CODE>counter</CODE></A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BufferedOutputStream(java.io.OutputStream, xxl.core.io.Buffer, xxl.core.functions.Function)"><!-- --></A><H3>
BufferedOutputStream</H3>
<PRE>
public <B>BufferedOutputStream</B>(java.io.OutputStream&nbsp;outputStream,
                            <A HREF="../../../xxl/core/io/Buffer.html" title="class in xxl.core.io">Buffer</A>&nbsp;buffer,
                            <A HREF="../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</A>&nbsp;blockFactory)</PRE>
<DL>
<DD>Constructs a new buffered output stream that wraps the given output
 stream by storing the bytes written to it in buffered blocks. The
 specified buffer is used for buffering these blocks and the given
 block factory is used for creating a new empty block when needed.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>outputStream</CODE> - the output stream to be buffered.<DD><CODE>buffer</CODE> - the buffer used for buffering the blocks storing the
        bytes written the the wrapped output stream.<DD><CODE>blockFactory</CODE> - a function that is invoked, when a new empty
        block is needed.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()
           throws java.io.IOException</PRE>
<DL>
<DD>Closes this buffered output stream and releases any system
 resources associated with this stream. The general contract of
 close is that it closes the output stream. A closed stream cannot
 perform output operations and cannot be reopened.<br>
 This implementation flushes the buffer first. Thereafter all
 buffered blocks are removed out of the buffer and the wrapped
 output stream is closed.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>close</CODE> in interface <CODE>java.io.Closeable</CODE><DT><B>Overrides:</B><DD><CODE>close</CODE> in class <CODE>java.io.OutputStream</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="flush()"><!-- --></A><H3>
flush</H3>
<PRE>
public void <B>flush</B>()
           throws java.io.IOException</PRE>
<DL>
<DD>Flushes this buffered output stream and forces any buffered output
 bytes to be written out. The general contract of flush is that
 calling it is an indication that, if any bytes previously written
 have been buffered by the implementation of the output stream, such
 bytes should immediately be written to their intended destination.
 <br>
 This implementation flushes all buffered elements first (this
 forces the insertion of the buffered blocks into
 <tt>updateList</tt>). Thereafter <tt>updateList</tt> is sorted
 according to the ids of the stored blocks (that are given by the
 <tt>counter</tt>). Then the data of the blocks is written to the
 wrapped output stream and the blocks are released.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>flush</CODE> in interface <CODE>java.io.Flushable</CODE><DT><B>Overrides:</B><DD><CODE>flush</CODE> in class <CODE>java.io.OutputStream</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="write(int)"><!-- --></A><H3>
write</H3>
<PRE>
public void <B>write</B>(int&nbsp;b)
           throws java.io.IOException</PRE>
<DL>
<DD>Writes the specified byte to this output stream. The general
 contract for write is that one byte is written to the output
 stream. The byte to be written is the eight low-order bits of the
 argument b. The 24 high-order bits of b are ignored.<br>
 First this implementation checks whether an actual block to write
 bytes to exists or not. When it does not exist, a new empty block
 is created by invoking the block factory and inserted into the
 buffer. The new block is inserted into the buffer with a flush
 function that inserts the block into <tt>updateList</tt>, when it
 is invoked. Thereafter the byte is written to the actual block and
 the block is checked whether it is full. When it is full, the
 buffered block is unfixed, <tt>counter</tt> is increased and
 <tt>block</tt> is set to <tt>null</tt>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>write</CODE> in class <CODE>java.io.OutputStream</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>b</CODE> - the byte to be written to the buffered output stream.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an I/O error occurs. In particular, an
         IOException may be thrown if the output stream has been
         closed.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BufferedOutputStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../xxl/core/io/Buffer.Slot.html" title="class in xxl.core.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../xxl/core/io/BufferedRandomAccessFile.html" title="class in xxl.core.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?xxl/core/io/BufferedOutputStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BufferedOutputStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
